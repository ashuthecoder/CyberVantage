{% extends "base.html" %}
{% block title %}Dashboard - CyberVantage{% endblock %}

{% block extra_styles %}
<style>
    .welcome-banner {
        /* Glass styling reused or inherited, but let's make it specific if needed */
        margin-bottom: 2rem;
        text-align: center;
    }

    .sections-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
    }

    .section-card {
        text-decoration: none;
        color: inherit;
        height: 100%;
        display: block;
    }

    .section-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        height: 100%;
    }

    .section-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .current-time {
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.9rem;
        margin-top: 0.5rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="glass-container welcome-banner" style="max-width: 100%;">
    <h1>Welcome to Your Dashboard</h1>
    <p class="subtitle" style="color: rgba(255,255,255,0.7);">Choose a path to enhance your cybersecurity knowledge</p>
    <p class="current-time" id="current-time">Loading...</p>
</div>

<div class="sections-container">
    <a href="{{ url_for('analysis.learn') }}" class="section-card">
        <div class="glass-panel section-content">
            <div class="section-icon">üìö</div>
            <h3>Learn</h3>
            <p>Access educational resources, tutorials, and courses on cybersecurity fundamentals and advanced topics.
            </p>
        </div>
    </a>

    <a href="{{ url_for('simulation.simulate') }}" class="section-card">
        <div class="glass-panel section-content">
            <div class="section-icon">üõ°Ô∏è</div>
            <h3>Simulate</h3>
            <p>Practice with real-world cybersecurity scenarios in a safe, controlled environment.</p>
        </div>
    </a>

    <a href="{{ url_for('analysis.analysis') }}" class="section-card">
        <div class="glass-panel section-content">
            <div class="section-icon">üìä</div>
            <h3>Analysis</h3>
            <p>Review your performance metrics, progress tracking, and personalized recommendations.</p>
        </div>
    </a>

    <a href="{{ url_for('threat.check_threats') }}" class="section-card">
        <div class="glass-panel section-content">
            <div class="section-icon">üîç</div>
            <h3>Check Threats</h3>
            <p>Scan files, URLs, and IPs to identify potential malware and security threats.</p>
        </div>
    </a>

    <a href="{{ url_for('threat.get_phishing_assignment') }}" class="section-card">
        <div class="glass-panel section-content">
            <div class="section-icon">‚úèÔ∏è</div>
            <h3>Assignment</h3>
            <p>Test your knowledge by creating a convincing phishing email and get AI feedback on your work.</p>
        </div>
    </a>

    {% if current_user and current_user.is_admin_user() %}
    <a href="{{ url_for('auth.admin_users') }}" class="section-card">
        <div class="glass-panel section-content">
            <div class="section-icon">üë•</div>
            <h3>Admin Panel</h3>
            <p>Manage system users, view registration details, and maintain user accounts.</p>
        </div>
    </a>
    {% endif %}
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Update current time
        function updateTime() {
            const now = new Date();
            const formattedDate = now.toLocaleString();
            const timeEl = document.getElementById('current-time');
            if (timeEl) timeEl.textContent = `${formattedDate}`;
        }

        updateTime();
        setInterval(updateTime, 60000); // Update every minute
    });
</script>
{% endblock %}