{% extends "base.html" %}
{% block title %}Dashboard - CyberVantage{% endblock %}

{% block extra_styles %}
.sections-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.section-card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
    text-decoration: none;
    color: inherit;
    position: relative;
    height: 280px;
}

.section-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

.section-card::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 5px;
    transition: height 0.3s;
}

#learn-section::after {
    background-color: #3498db;
}

#simulate-section::after {
    background-color: #e74c3c;
}

#analysis-section::after {
    background-color: #2ecc71;
}

#threats-section::after {
    background-color: #9b59b6;
}

#assignment-section::after {
    background-color: #e67e22;
}

.section-card:hover::after {
    height: 10px;
}

.section-content {
    padding: 2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    height: 100%;
}

.section-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.current-time {
    text-align: center;
    margin: 1rem 0;
    color: #7f8c8d;
    font-size: 0.9rem;
}

.welcome-banner {
    background-color: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    margin-bottom: 2rem;
    text-align: center;
}
{% endblock %}

{% block content %}
<div class="welcome-banner">
    <h1>Welcome to Your Dashboard</h1>
    <p class="subtitle">Choose a path to enhance your cybersecurity knowledge</p>
    <p class="current-time" id="current-time">Current Date and Time: Loading...</p>
</div>

<div class="sections-container">
    <a href="{{ url_for('web.learn') }}" class="section-card" id="learn-section">
        <div class="section-content">
            <div class="section-icon">üìö</div>
            <h2>Learn</h2>
            <p>Access educational resources, tutorials, and courses on cybersecurity fundamentals and advanced topics.</p>
        </div>
    </a>

    <a href="{{ url_for('web.simulate') }}" class="section-card" id="simulate-section">
        <div class="section-content">
            <div class="section-icon">üõ°Ô∏è</div>
            <h2>Simulate</h2>
            <p>Practice with real-world cybersecurity scenarios in a safe, controlled environment.</p>
        </div>
    </a>

    <a href="{{ url_for('web.analysis') }}" class="section-card" id="analysis-section">
        <div class="section-content">
            <div class="section-icon">üìä</div>
            <h2>Analysis</h2>
            <p>Review your performance metrics, progress tracking, and personalized recommendations.</p>
        </div>
    </a>
    
    <a href="{{ url_for('web.check_threats') }}" class="section-card" id="threats-section">
        <div class="section-content">
            <div class="section-icon">üîç</div>
            <h2>Check Threats</h2>
            <p>Scan files, URLs, and IPs to identify potential malware and security threats.</p>
        </div>
    </a>
    
    <a href="{{ url_for('web.phishing_assignment') }}" class="section-card" id="assignment-section">
        <div class="section-content">
            <div class="section-icon">‚úèÔ∏è</div>
            <h2>Assignment</h2>
            <p>Test your knowledge by creating a convincing phishing email and get AI feedback on your work.</p>
        </div>
    </a>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Update current time
        function updateTime() {
            const now = new Date();
            const formattedDate = now.toISOString().slice(0, 19).replace('T', ' ');
            document.getElementById('current-time').textContent = `Current Date and Time: ${formattedDate}`;
        }
        
        updateTime();
        setInterval(updateTime, 60000); // Update every minute
        
        // Add active state for buttons when pressed
        const sectionCards = document.querySelectorAll('.section-card');
        
        sectionCards.forEach(card => {
            card.addEventListener('mousedown', function() {
                this.style.transform = 'scale(0.98)';
            });
            
            card.addEventListener('mouseup', function() {
                this.style.transform = '';
            });
        });
    });
</script>
{% endblock %}